webpackJsonp([1],{36:function(t,e,i){"use strict";var a=i(20),r=i(94),n=i(40);a.a.use(r.a),e.a=new r.a({mode:"history",routes:[{path:"/",name:"Home",component:n.a}]})},37:function(t,e,i){i(90);var a=i(35)(i(41),i(93),null,null);t.exports=a.exports},38:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(20),r=i(37),n=i.n(r),s=i(36);a.a.config.productionTip=!1,new a.a({el:"#app",router:s.a,template:"<App/>",components:{App:n.a}})},39:function(t,e,i){"use strict";var a=i(51),r=i.n(a),n=i(43),s=i.n(n),o=i(47),h=i.n(o),l=i(50),c=i.n(l),u=i(46),d=i.n(u),v=i(48),p=i.n(v),y=i(49),f=i.n(y),x=[[240,91,114,3e3],[49,105,146,3e3],[153,47,37,3e3],[120,115,201,3e3],[153,105,33,3e3],[70,120,33,3e3],[28,110,110,3e3],[75,75,120]],m={txt:"NightCat",fontFamily:{name:"Nothing You Could Do",url:"https://fonts.gstatic.com/s/nothingyoucoulddo/v6/jpk1K3jbJoyoK0XKaSyQAZXIiu60FL2bNvn8mktkB5z3rGVtsTkPsbDajuO5ueQw.woff2"},font:"normal normal 120px Nothing You Could Do",ball_count:30,line_range:200,r_range:[10,20],color:x,bgColor:[[224,224,224,1e4],[22,22,22,1e4]],textColor:[[52,52,52,1e4],[224,224,224,1e4]],mouseColor:x,period:5e3,bgPeriod:5e3,textPeriod:5e3,opacity:[.3,.8],speed:[-1,1],clickPause:!1},g=function(){function t(e,i){p()(this,t),this.canvas=document.getElementById(e),this.cxt=this.canvas.getContext("2d"),d()(this,m,i),this.mouse={x:0,y:0,r:0,type:-1,catchBall:!1,onLine:!1},d()(this.mouse,this.initGradientData(this.period,this.mouseColor)),this.fontLoaded=!1,this.vballs=[],this.balls=[],this.bg=this.initGradientData(this.bgPeriod,this.bgColor),this.text=this.initGradientData(this.textPeriod,this.textColor),this.clickHandle=this.clickHandle.bind(this),this.mouseHandle=this.mouseHandle.bind(this),this.init=this.init.bind(this),this.bindEvent(),this.loadFont(),this.init(),this.start()}return f()(t,[{key:"init",value:function(){this.width=this.canvas.width=this.canvas.offsetWidth,this.height=this.canvas.height=this.canvas.offsetHeight,this.bounds=this.canvas.getBoundingClientRect()}},{key:"loadFont",value:function(){var t=this;if(!this.fontFamily||!FontFace)return this.fontLoaded=!0,!1;new FontFace(this.fontFamily.name,"url("+this.fontFamily.url+")").load().then(function(e){document.fonts.add(e),t.fontLoaded=!0})}},{key:"bindEvent",value:function(){this.canvas.addEventListener("click",this.clickHandle,!1),this.canvas.addEventListener("mousemove",this.mouseHandle,!1),window.addEventListener("resize",this.init,!1)}},{key:"unbindEvent",value:function(){this.canvas.removeEventListener("click",this.clickHandle,!1),this.canvas.removeEventListener("mousemove",this.mouseHandle,!1),window.removeEventListener("resize",this.init,!1)}},{key:"clickHandle",value:function(t){this.clickPause&&this.toggleAnimateStatus()}},{key:"mouseHandle",value:function(t){var e=t.clientX-this.bounds.left,i=t.clientY-this.bounds.top;this.mouse.x=e,this.mouse.y=i}},{key:"start",value:function(){var t=this;if(this.isAnimate)return!1;for(var e=this.vballs.length;e<this.ball_count;e++)this.addBall();this.isAnimate=!0;var i=function e(){if(!t.isAnimate)return!1;t.cxt.clearRect(0,0,t.width,t.height),t.fontLoaded&&t.renderBackground(),t.render(),t.fontLoaded&&t.renderText(),t.update(),requestAnimationFrame(e)};requestAnimationFrame(i)}},{key:"toggleAnimateStatus",value:function(){this.isAnimate?this.isAnimate=!1:this.start()}},{key:"getColorList",value:function(t){for(var e=t[0],i=t[1],a=i.map(function(t,i){return t-e[i]}),r=Math.max(Math.abs(a[0]),Math.abs(a[1]),Math.abs(a[2])),n=a.map(function(t){return t/r}),s=[],o=0;o<r;o++)!function(e){s.push(n.map(function(i,a){return t[0][a]+i*e}))}(o);return s}},{key:"addBall",value:function(){var t={vx:this.getRandomNumber(this.speed),vy:this.getRandomNumber(this.speed),opacity:this.getRandomNumber(this.opacity),is_infect:!1,type:~~this.getRandomNumber([0,3]),reverse:!1,withMouse:0};if(t.r=(1-t.opacity)*(this.r_range[1]-this.r_range[0])+this.r_range[0],t.x=this.getRandomNumber([t.r,this.width-t.r]),t.y=this.getRandomNumber([t.r,this.height-t.r]),this.isOverlap(t))return this.addBall();switch(d()(t,this.initGradientData(this.period,this.color)),t.type){case 0:break;case 1:t.emptyR=this.getRandomNumber([t.r/2,t.r/4*3]);break;case 2:t.emptyR=this.getRandomNumber([t.r/2,t.r/4*3]),t.sonR=this.getRandomNumber([t.emptyR/2,t.emptyR/4*3])}this.vballs.push(t)}},{key:"isOverlap",value:function(t){return!this.vballs.every(function(e){return!(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))<=t.r+e.r)})}},{key:"getBalls",value:function(){for(var t=null,e=[],i=0,a=this.vballs.length;i<a;i++)t=this.vballs[i],e.push(t),e=e.concat(this.addMirrorBalls(t));return e}},{key:"addMirrorBalls",value:function(t){var e=4*this.r_range[1],i=[],a={};t.x<e&&(a.x=t.x+this.width),t.x>this.width-e&&(a.x=t.x-this.width),t.y<e&&(a.y=t.y+this.height),t.y>this.height-e&&(a.y=t.y-this.height);for(var r in a){var n;i.push(this.addMirrorBall(t,(n={},c()(n,r,a[r]),c()(n,"parent",t),n)))}return 2===h()(a).length&&i.push(this.addMirrorBall(t,{x:a.x,y:a.y,parent:t})),i}},{key:"addMirrorBall",value:function(t,e){var i={};for(var a in t)void 0!==e[a]?i[a]=e[a]:i[a]=t[a];return i}},{key:"render",value:function(t){var e=this;this.balls.length=0,this.balls=this.getBalls(),this.balls.push(this.mouse),this.mouse.noLine=this.mouse.catchBall,this.mouse.catchBall=!1,s()(this.balls,function(t,i){e.renderBall(t,i)})}},{key:"renderBall",value:function(t,e){var i=this,a=t.x,r=t.y,n=t.color;s()(this.balls,function(s,o){if(o<=e)return!1;var h=Math.sqrt(Math.pow(a-s.x,2)+Math.pow(r-s.y,2));if(h<i.line_range&&h>t.r+s.r){if(-1===s.type&&(t.withMouse=1,t.is_infect=!0,i.mouse.noLine))return!1;var l=1-h/i.line_range,c=i.getRGBA(n,l),u=i.getRGBA(s.color,l);i.cxt.save();var d=i.cxt.createLinearGradient(a,r,s.x,s.y);1===t.type?(d.addColorStop(0,c),d.addColorStop(t.emptyR/h,c),d.addColorStop(t.emptyR/h,"transparent")):2===t.type?(d.addColorStop(0,"transparent"),d.addColorStop(t.sonR/h,"transparent"),d.addColorStop(t.sonR/h,c),d.addColorStop(t.emptyR/h,c),d.addColorStop(t.emptyR/h,"transparent")):d.addColorStop(0,"transparent"),d.addColorStop(t.r/h,"transparent"),d.addColorStop(t.r/h,c),d.addColorStop(1-s.r/h,u),d.addColorStop(1-s.r/h,"transparent"),d.addColorStop(1,"transparent"),i.cxt.strokeStyle=d,i.renderLine(a,r,s.x,s.y),i.cxt.restore()}else h<t.r+s.r&&!s.isCrash&&!t.isCrash?-1===s.type?(t.withMouse=2,t.is_infect=!0,i.mouse.catchBall=!0):(t.isCrash=!0,s.isCrash=!0,i.crashHandle(t,s),t.parent&&(t.parent.isCrash=!0),s.parent&&(s.parent.isCrash=!0)):-1===s.type&&(t.withMouse=0,t.is_infect=!1)}),0===t.type?this.renderTypeArc(a,r,t.r,this.getRGBA(n,t.opacity)):1===t.type?this.renderTypeArc(a,r,t.r,this.getRGBA(n,t.opacity),t.emptyR):2===t.type&&this.renderTypeArc(a,r,t.r,this.getRGBA(n,t.opacity),t.emptyR,t.sonR)}},{key:"resetColorList",value:function(t){t.cur_i=0,t.reverse=!1}},{key:"crashHandle",value:function(t,e){var i=Math.atan2(e.y-t.y,e.x-t.x),a=Math.sqrt(t.vx*t.vx+t.vy*t.vy),r=Math.sqrt(e.vx*e.vx+e.vy*e.vy),n=Math.atan2(t.vy,t.vx),s=Math.atan2(e.vy,e.vx),o=a*Math.cos(n-i),h=a*Math.sin(n-i),l=r*Math.cos(s-i),c=r*Math.sin(s-i),u=l,d=h,v=o,p=c;t.fx=Math.cos(i)*u+Math.cos(i+Math.PI/2)*d,t.fy=Math.sin(i)*u+Math.sin(i+Math.PI/2)*d,e.fx=Math.cos(i)*v+Math.cos(i+Math.PI/2)*p,e.fy=Math.sin(i)*v+Math.sin(i+Math.PI/2)*p}},{key:"update",value:function(){var t=this;this.vballs=this.vballs.map(function(e){if(e.x<-e.r?e.x=e.x+t.width:e.x>t.width+e.r?e.x=e.x-t.width:e.y<-e.r?e.y=e.y+t.height:e.y>t.height+e.r&&(e.y=e.y-t.height),e.isCrash&&(e.isCrash=!1,e.vx=e.fx,e.vy=e.fy),1===e.withMouse){var i=.02*Math.random();e.y>t.mouse.y?e.vy=.99*e.vy+i:e.vy=.99*e.vy-i,e.x>t.mouse.x?e.vx=.99*e.vx+i:e.vx=.99*e.vx-i}return 2!==e.withMouse&&(e.x+=e.vx,e.y+=e.vy),t.updateGradientData(e),e}),this.updateGradientData(this.mouse),this.updateGradientData(this.bg),this.updateGradientData(this.text)}},{key:"initGradientData",value:function(t,e){var i=this.getColorList(e);return{cur_i:0,cur_color:0,color:e[0],changeValue:i.length/(t/16.7),ColorList:i,ColorGroup:e}}},{key:"updateGradientData",value:function(t){var e=this,i=void 0;if(t.ColorGroup[t.cur_color][3]){var a=t.ColorGroup[t.cur_color][3]/16.7;if(t.cur_i<=a)return t.cur_i+=1,!1;t.cur_i+=t.changeValue,i=~~(t.cur_i-a)}else t.cur_i+=t.changeValue,i=~~t.cur_i;if(i===t.cur_i)return!1;t.color=t.color.map(function(a,r){return i>=t.ColorList.length&&(t.cur_i=i=0,t.cur_color++,t.cur_color=t.cur_color%t.ColorGroup.length,t.cur_color===t.ColorGroup.length-1?t.ColorList=e.getColorList([t.ColorGroup[t.cur_color],t.ColorGroup[0]]):t.ColorList=e.getColorList([t.ColorGroup[t.cur_color],t.ColorGroup[t.cur_color+1]])),t.ColorList.length?t.ColorList[i][r]:a})}},{key:"getRGBA",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"transparent"===t?t:"rgba("+~~t[0]+", "+~~t[1]+", "+~~t[2]+", "+e+")"}},{key:"getRandomNumber",value:function(t,e){var i=r()(t,2),a=i[0],n=i[1];return Math.random()*(n-a)+a}},{key:"renderTypeArc",value:function(t,e,i,a,r,n){this.cxt.fillStyle=a,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),r&&this.cxt.arc(t,e,r,0,2*Math.PI,!1),n&&this.cxt.arc(t,e,n,0,2*Math.PI,!0),this.cxt.fill()}},{key:"renderArc",value:function(t,e,i,a){this.cxt.fillStyle=a,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.fill()}},{key:"renderRing",value:function(t,e,i,a,r){this.cxt.fillStyle=a,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.arc(t,e,r,0,2*Math.PI,!1),this.cxt.fill()}},{key:"renderDoubleArc",value:function(t,e,i,a,r,n){this.cxt.fillStyle=a,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.arc(t,e,r,0,2*Math.PI,!1),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.fill()}},{key:"renderLine",value:function(t,e,i,a){this.cxt.beginPath(),this.cxt.moveTo(t,e),this.cxt.lineTo(i,a),this.cxt.stroke()}},{key:"renderTri",value:function(t,e,i){this.cxt.beginPath(),this.cxt.moveTo(t.x,t.y),this.cxt.lineTo(e.x,e.y),this.cxt.lineTo(i.x,i.y),this.cxt.lineTo(t.x,t.y),this.cxt.closePath(),this.cxt.stroke()}},{key:"renderBackground",value:function(){this.cxt.fillStyle=this.getRGBA(this.bg.color),this.cxt.fillRect(0,0,this.width,this.height)}},{key:"renderText",value:function(){this.cxt.save(),this.cxt.font=this.font,this.cxt.textAlign="center",this.cxt.fillStyle=this.getRGBA(this.text.color,.8),this.cxt.fillText(this.txt,this.width/2,this.height/2),this.cxt.restore()}}]),t}();e.a=g},40:function(t,e,i){"use strict";var a=i(91),r=i.n(a);e.a=r.a},41:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},42:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(39);e.default={name:"home",data:function(){return{}},mounted:function(){new a.a("bg_canvas")}}},89:function(t,e){},90:function(t,e){},91:function(t,e,i){i(89);var a=i(35)(i(42),i(92),"data-v-1cddd227",null);t.exports=a.exports},92:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-view"},[i("section",{staticClass:"canvas-bg"},[i("canvas",{attrs:{id:"bg_canvas"}}),t._v(" "),i("aside",{staticClass:"source_link"},[i("a",{attrs:{href:"https://github.com/NightCatSama/My-Animat/blob/master/bead/src/javascripts/canvas.js",target:"_blank"}},[t._v("source code")])])])])}]}},93:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]}}},[38]);
//# sourceMappingURL=app.14da493b047f4787c592.js.map