webpackJsonp([10,14],{143:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),s=r(o),n=a(2),i=r(n),u=a(3),c=r(u),l=a(7),f=r(l),d=a(6),p=r(d),m=a(1),h=r(m),x=a(45),b=a(16),v=a(14),w=a(17),g=r(w),k=a(47),y=r(k);a(202);var I=function(e){function t(e){(0,i.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.state={userInfo:{}},a.notice=function(e,t,r){return a.props.actions.execute("notice",e,t,{status:r,styles:{top:"auto",bottom:"30px"}})},a}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.authConf.subscribeEvents("User",this.loadSelfData.bind(this)),this.getUserInfo()}},{key:"componentWillReceiveProps",value:function(e){e.params.account!==this.state.userInfo.account&&this.getUserInfo()}},{key:"componentWillUnmount",value:function(){this.props.authConf.unsubscribeEvents("User")}},{key:"getUserInfo",value:function(){var e=this.context.router.params.account;e?this.loadData(e):this.loadSelfData()}},{key:"loadData",value:function(e){var t=this;axios.get("/getUserInfoByAccount",{params:{account:e}}).then(function(e){t.setState({userInfo:e.data})}).catch(function(e){t.notice(e.message,2e3,"error")})}},{key:"loadSelfData",value:function(){var e=this.props.auth,t=e.isLogin,a=e.userInfo;t&&a?this.setState({userInfo:{account:a.account,email:a.email,avatar:a.avatar}}):this.context.router.replace("/")}},{key:"render",value:function(){return h.default.createElement("div",{className:"user-view"},h.default.createElement("div",{className:"user-header"},h.default.createElement("img",{className:"user-avatar",src:this.state.userInfo.avatar}),h.default.createElement("h1",{className:"user-account"},this.state.userInfo.account),h.default.createElement("small",{className:"user-email"},this.state.userInfo.email)),h.default.createElement("ul",{className:"user-router"},h.default.createElement("li",null,h.default.createElement(x.IndexLink,{to:"/user"+(this.context.router.params.account?"/"+this.context.router.params.account:""),activeClassName:"active"},"Information")),h.default.createElement("li",null,h.default.createElement(x.Link,{to:"/game-data"+(this.context.router.params.account?"/"+this.context.router.params.account:""),activeClassName:"active"},"Game Data"))),this.props.children)}}]),t}(m.Component),E=function(e){return{auth:e.auth}},C=function(e){return{actions:(0,v.bindActionCreators)(g.default,e),authConf:(0,v.bindActionCreators)(y.default,e)}};t.default=(0,b.connect)(E,C)(I),I.propTypes={auth:m.PropTypes.object,children:m.PropTypes.object,authConf:m.PropTypes.object,actions:m.PropTypes.object,history:m.PropTypes.object,location:m.PropTypes.object},I.contextTypes={router:h.default.PropTypes.any.isRequired}},181:function(e,t,a){t=e.exports=a(10)(),t.push([e.id,".user-view{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;will-change:transform;-webkit-transition:-webkit-transform .5s;transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.user-view.offset{-webkit-transform:translate3d(-240px,0,0);transform:translate3d(-240px,0,0)}.user-view .user-header{width:100%;padding:30px 0 50px;text-align:center;background-color:#3498db;background:-webkit-linear-gradient(320deg,#24c6dc,#514a9d);background:linear-gradient(130deg,#24c6dc,#514a9d);color:#fffffb}.user-view .user-header .user-avatar{border-radius:50%;width:80px;height:80px;box-shadow:0 0 0 4px rgba(255,255,251,.45)}.user-view .user-header .user-email{color:#d3dce6}@media (max-width:768px){.user-view .user-header{padding:12px 0 30px}}.user-view .user-router{width:100%;border-bottom:1px solid #ccc}.user-view .user-router,.user-view .user-router li{display:-webkit-box;display:-ms-flexbox;display:flex}.user-view .user-router li{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center}.user-view .user-router li:not(:last-child){border-right:1px solid #fffffb}.user-view .user-router li a{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:8px 0;background-color:#f3f3f3;text-decoration:none}.user-view .user-router li a.active{color:#fff;background-color:#324057;cursor:default}",""])},202:function(e,t,a){var r=a(181);"string"==typeof r&&(r=[[e.id,r,""]]);a(11)(r,{});r.locals&&(e.exports=r.locals)}});