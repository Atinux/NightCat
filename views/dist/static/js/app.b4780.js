webpackJsonp([3,1],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(2),a=o(i),r=n(279),s=n(432),l=o(s),u=n(23),c=n(119),f=o(c),d=n(428),p=o(d);window.axios=p.default,(0,r.render)(a.default.createElement(u.Provider,{store:f.default},a.default.createElement(l.default,null)),document.getElementById("app"))},25:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(66),a=n(189),r=o(a),s={register:(0,i.createAction)(r.RESGISTER_EVENT,function(e,t,n){return{type:e,fn:t,data:n}}),execute:(0,i.createAction)(r.EXECUTE,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return{type:e,args:n}})};t.default=s},77:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(66),a=n(188),r=o(a),s={setStatus:(0,i.createAction)(r.SET_STATUS),setAccessToken:(0,i.createAction)(r.SET_ACCESSTOKEN),setUserInfo:(0,i.createAction)(r.SET_USERINFO),subscribeEvents:(0,i.createAction)(r.SUBSCRIBE_EVENTS),refresh:(0,i.createAction)(r.REFRESH)};t.default=s},119:function(e,t,n){"use strict";var o,o=n(453);e.exports=o()},188:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_STATUS="SET_STATUS",t.SET_ACCESSTOKEN="SET_ACCESSTOKEN",t.SET_USERINFO="SET_USERINFO",t.SUBSCRIBE_EVENTS="SUBSCRIBE_EVENTS",t.REFRESH="REFRESH"},189:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RESGISTER_EVENT="RESGISTER_EVENT",t.EXECUTE="EXECUTE"},207:function(e,t,n){var o=n(241);"string"==typeof o&&(o=[[e.id,o,""]]);n(13)(o,{});o.locals&&(e.exports=o.locals)},208:function(e,t,n){var o=n(242);"string"==typeof o&&(o=[[e.id,o,""]]);n(13)(o,{});o.locals&&(e.exports=o.locals)},220:function(e,t,n){var o=n(254);"string"==typeof o&&(o=[[e.id,o,""]]);n(13)(o,{});o.locals&&(e.exports=o.locals)},221:function(e,t,n){var o=n(255);"string"==typeof o&&(o=[[e.id,o,""]]);n(13)(o,{});o.locals&&(e.exports=o.locals)},241:function(e,t,n){t=e.exports=n(14)(),t.push([e.id,".menu{position:fixed;right:0;top:0;height:100vh;width:240px;visibility:hidden;display:none;-webkit-transform:translate3d(240px,0,0);transform:translate3d(240px,0,0);-webkit-transition:all .5s;transition:all .5s;z-index:100}.menu.show{display:block}.menu.open{visibility:visible;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-transition:-webkit-transform .5s;transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.menu .side-menu{height:100%;width:100%;position:relative;overflow:hidden;z-index:101;background:#243b55;background:-webkit-linear-gradient(160deg,#141e30,#243b55);background:linear-gradient(290deg,#141e30,#243b55)}.menu .menu-btn{visibility:visible;position:absolute;top:15px;left:0;border-radius:4px;cursor:pointer;padding:0 12px;height:34px;line-height:34px;-webkit-transform:translate3d(-100px,0,0);transform:translate3d(-100px,0,0);-webkit-transition:all .5s;transition:all .5s;z-index:99}.menu .menu-btn .iconfont{margin-right:5px;font-size:15px;position:relative;vertical-align:middle;top:-1px}.menu .menu-btn-outside{visibility:visible;background-color:rgba(10,22,51,.36);font-size:15px;color:#fffffb;border:1px solid transparent}.menu .menu-btn-outside:hover{border-color:#fff}.menu.open .menu-btn-outside{visibility:hidden;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}.menu .menu-btn-inside{visibility:hidden;font-size:18px;color:#3498db;text-shadow:1px 1px 3px rgba(0,0,0,.86)}.menu.open .menu-btn-inside{visibility:visible;background-color:transparent;font-size:18px;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}@media (max-width:768px){.menu .menu-btn{top:10px;padding:0 6px;height:28px;line-height:28px;-webkit-transform:translate3d(-90px,0,0);transform:translate3d(-90px,0,0)}.menu .menu-btn-inside{color:#999}}.menu .link-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;text-shadow:1px 1px 3px rgba(0,0,0,.86);padding:65px 0 0}.menu .link-group .link{padding:10px 20px;font-size:15px;cursor:pointer;font-weight:700;position:relative;color:#5faee3;text-decoration:none;-webkit-transition:all .3s;transition:all .3s}.menu .link-group .link .iconfont{margin-right:8px;width:20px;display:inline-block;font-size:18px}.menu .link-group .link.active{background-color:rgba(52,152,219,.8);color:#fffffb}.menu .link-group .link:not(.active):hover{background-color:rgba(0,0,0,.16)}@media (max-width:768px){.menu .link-group{padding-top:50px}}.menu .user-group{position:absolute;left:0;bottom:30px;width:100%;padding:0 20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.menu .personal-information{width:100%;text-align:center;color:#3498db;padding:15px 5px}.menu .personal-information .avatar{width:80px;height:80px;border-radius:50%}.menu .personal-information .follow{display:none;padding:20px 0}.menu .personal-information .follow a{display:inline-block;margin:0 8px;text-decoration:none}.menu .personal-information .follow a:hover{opacity:.6}.menu .personal-information .follow .iconfont{color:#3498db;font-size:40px}.menu .personal-information .user-name{overflow:hidden;text-overflow:ellipsis}.menu .personal-information .user-profile{padding:0 10px;color:rgba(52,152,219,.6);text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:1.3em;max-height:2.6em}.menu .sign-btn-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.menu .sign-btn{color:#fffffb;width:150px;margin:15px auto 0;padding:5px 0;border:none;display:block;background-color:#95a5a6;border-radius:20px;text-align:center;text-decoration:none;box-shadow:1px 1px 3px rgba(0,0,0,.86);-webkit-transition:background-color .2s;transition:background-color .2s}.menu .sign-btn:hover{background-color:#a3b1b2}.menu .sign-btn:active{background-color:#87999a;box-shadow:inset 2px 2px 2px rgba(0,0,0,.36)}.menu .sign-btn.blue-btn{background-color:#3498db}.menu .sign-btn.blue-btn:hover{background-color:#4aa3df}.menu .sign-btn.blue-btn:active{background-color:#258cd1}.menu .sign-btn.green-btn{background-color:#2ecc71}.menu .sign-btn.green-btn:hover{background-color:#40d47e}.menu .sign-btn.green-btn:active{background-color:#29b765}@media (max-width:768px){.menu .user-group{bottom:15px}.menu .personal-information{font-size:16px}.menu .personal-information .avatar{width:80px;height:80px}.menu .sign-btn-group{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.menu .sign-btn{margin-top:5px;width:45%;font-size:13px;display:inline-block}}",""])},242:function(e,t,n){t=e.exports=n(14)(),t.push([e.id,".message{position:fixed;top:30px;left:50%;color:#345;padding:10px 15px;text-align:center;font-size:13px;background-color:#eee;border-radius:20px;max-width:80%;z-index:9999;opacity:0;visibility:hidden;-webkit-transform:translateX(-50%) scale(.8);transform:translateX(-50%) scale(.8);-webkit-transition:all .3s;transition:all .3s}.message.show{opacity:1;visibility:visible;-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1)}.message .iconfont{width:16px;height:16px;vertical-align:top}.message.loading .icon-loading{display:inline-block;-webkit-animation:rotate 1s infinite linear;animation:rotate 1s infinite linear}.message.primary{color:#fffffb;background-color:#3498db}.message.error{color:#fffffb;background-color:#d71345}.message.success{color:#fffffb;background-color:#27ae60}.message.warning{color:#fffffb;background-color:#ffd400}.message .iconfont{vertical-align:middle;margin-right:5px}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},254:function(e,t,n){t=e.exports=n(14)(),t.push([e.id,'@font-face{font-family:iconfont;src:url("//at.alicdn.com/t/font_a5hnyvn7wtvjkyb9.eot");src:url("//at.alicdn.com/t/font_a5hnyvn7wtvjkyb9.eot?#iefix") format("embedded-opentype"),url("//at.alicdn.com/t/font_a5hnyvn7wtvjkyb9.woff") format("woff"),url("//at.alicdn.com/t/font_a5hnyvn7wtvjkyb9.ttf") format("truetype"),url("//at.alicdn.com/t/font_a5hnyvn7wtvjkyb9.svg#iconfont") format("svg")}body{overflow-x:hidden}.container{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;min-height:100vh;will-change:transform;-webkit-transition:-webkit-transform .5s;transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.container.offset{-webkit-transform:translate3d(-240px,0,0);transform:translate3d(-240px,0,0)}',""])},255:function(e,t,n){t=e.exports=n(14)(),t.push([e.id,"*,:after,:before{box-sizing:border-box}html{font-family:Montserrat,Segoe UI,Microsoft Yahei,Helvetica,Arial}blockquote,body,button,code,dd,div,dl,dt,fieldset,form,h1,h2,h3,h4,h5,h6,input,legend,li,ol,p,pre,td,textarea,th,ul{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-weight:500;line-height:1.426}article h1,article h2,article h3,article h4,article h5,article h6{margin:10px 0 15px}article h1,section h1{font-size:2em}a,a:active,a:focus,a:hover,button,button:active,button:focus,button:hover,input,input:active,input:focus,input:hover,select,select:active,select:focus,select:hover,textarea,textarea:active,textarea:focus,textarea:hover{outline:none}ol,ul{list-style:none}body{color:#345}a{color:#3498db}blockquote{padding-left:20px;margin:.5em 0;position:relative;border-left:4px solid #3498db}code{padding:10px 20px;display:inline-block;background-color:#324057;color:#fffffb;font-family:Consolas,Monaco,Droid,Sans,Mono,Source,Code,Pro,Menlo,Lucida,Type,Writer,Ubuntu;border-radius:5px}button,input,textarea{font-family:Montserrat,Segoe UI,Microsoft Yahei,Helvetica,Arial}",""])},424:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(464),a=o(i),r=n(9),s=o(r),l=n(6),u=o(l),c=n(7),f=o(c),d=n(11),p=o(d),m=n(10),b=o(m),h=n(2),g=o(h),v=n(427),k=o(v),x=n(426),y=o(x),w=n(23),E=n(18),_=n(25),S=o(_);n(221),n(220);var T=function(e){function t(e){(0,u.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.state={notice:{show:!1},menu:{}},n.timer=null,n.offsetView=n.offsetView.bind(n),n}return(0,b.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.props.actions.register("notice",this.openNotice.bind(this)),this.props.actions.register("menu",this.setMenu.bind(this))}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.refs.container.style.display="block"})}},{key:"offsetView",value:function(){this.refs.view.classList.toggle("offset")}},{key:"setMenu",value:function(e,t){this.setState({menu:(0,a.default)({show:e},t)})}},{key:"openNotice",value:function(e,t,n){var o=this;this.setState({notice:(0,a.default)({show:!0,message:e},n)}),t&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){o.setState({notice:(0,a.default)({show:!1,message:e},n)})},t))}},{key:"render",value:function(){return g.default.createElement("div",{ref:"container",style:{display:"none"}},g.default.createElement("div",{ref:"view",className:"container"},this.props.children),g.default.createElement(y.default,(0,a.default)({ref:"menu"},this.state.menu,{callback:this.offsetView})),g.default.createElement(k.default,(0,a.default)({key:"Message"},this.state.notice)))}}]),t}(h.Component),C=function(e){return{store:e}},N=function(e){return{actions:(0,E.bindActionCreators)(S.default,e)}};t.default=(0,w.connect)(C,N)(T),T.propTypes={children:h.PropTypes.any,store:h.PropTypes.object,actions:h.PropTypes.any}},426:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=o(i),r=n(6),s=o(r),l=n(7),u=o(l),c=n(11),f=o(c),d=n(10),p=o(d),m=n(2),b=o(m),h=n(37),g=o(h),v=n(64);n(207);var k=n(23),x=n(18),y=n(25),w=o(y),E=n(77),_=o(E),S=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={sideShow:!1,isLogin:!1,userInfo:null},n.toggleMenu=n.toggleMenu.bind(n),n.signout=n.signout.bind(n),n.linkClick=n.linkClick.bind(n),n.windowClick=n.windowClick.bind(n),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.windowClick,!1),this.props.authConf.subscribeEvents(this.getUserInfo.bind(this)),this.getUserInfo()}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.windowClick,!1)}},{key:"getUserInfo",value:function(){var e=this.props.auth,t=e.isLogin,n=e.userInfo;t&&n&&this.setState({isLogin:!0,userInfo:{name:n.name,profile:n.profile,avatar:n.avatar}})}},{key:"signout",value:function(){var e=this;axios.post("/signout",{}).then(function(t){t.success&&(e.props.actions.execute("notice","退出成功！",2e3,{status:"success"}),e.clearWebStorage(),e.setState({isLogin:!1,userInfo:null}))}).catch(function(t){return e.props.actions.execute("notice",t.message,2e3,{status:"error"})})}},{key:"clearWebStorage",value:function(e){window.localStorage.removeItem("token")}},{key:"windowClick",value:function(e){this.state.sideShow&&!this.refs.sideMenu.contains(e.target)&&this.toggleMenu()}},{key:"toggleMenu",value:function(){this.props.callback&&this.props.callback(),this.setState({sideShow:!this.state.sideShow})}},{key:"gotoSign",value:function(e,t,n){this.linkClick(e),this.context.router.push(t+("?link="+(this.context.router.location.pathname+(n?"&signup=1":""))))}},{key:"linkClick",value:function(e){e.currentTarget.classList.contains("active")||this.toggleMenu()}},{key:"render",value:function(){var e=(0,g.default)("menu",{show:this.props.show,open:this.state.sideShow});return b.default.createElement("div",{className:e},b.default.createElement("div",{className:"menu-btn menu-btn-outside",onClick:this.toggleMenu},b.default.createElement("i",{className:"iconfont icon-menu"}),b.default.createElement("span",null,"Menu")),b.default.createElement("div",{ref:"sideMenu",className:"side-menu"},b.default.createElement("div",{className:"menu-btn menu-btn-inside",onClick:this.toggleMenu},b.default.createElement("i",{className:"iconfont icon-menu"}),b.default.createElement("span",null,"Menu")),b.default.createElement("div",{className:"link-group"},b.default.createElement(v.IndexLink,{to:"/",activeClassName:"active",className:"link",onClick:this.linkClick},b.default.createElement("i",{className:"iconfont icon-home"}),b.default.createElement("span",null,"Home")),b.default.createElement(v.Link,{to:"/games",activeClassName:"active",className:"link",onClick:this.linkClick},b.default.createElement("i",{className:"iconfont icon-game"}),b.default.createElement("span",null,"Games")),b.default.createElement(v.Link,{to:"/my-friends",activeClassName:"active",className:"link",onClick:this.linkClick},b.default.createElement("i",{className:"iconfont icon-myFriends"}),b.default.createElement("span",null,"My Friends")),b.default.createElement(v.Link,{to:"/about",activeClassName:"active",className:"link",onClick:this.linkClick},b.default.createElement("i",{className:"iconfont icon-about"}),b.default.createElement("span",null,"About Me"))),this.props.showUserGroup&&(this.state.isLogin?b.default.createElement("div",{className:"user-group"},b.default.createElement("div",{className:"personal-information"},b.default.createElement("img",{className:"avatar",src:this.state.userInfo.avatar}),b.default.createElement("h2",{className:"user-name"},this.state.userInfo.name),b.default.createElement("small",{className:"user-profile"},this.state.userInfo.profile),b.default.createElement("div",{className:"follow"},b.default.createElement("a",{href:"https://github.com/NightCatSama",target:"_blank"},b.default.createElement("i",{className:"iconfont icon-github"})),b.default.createElement("a",{href:"https://twitter.com/NightCatSama",target:"_blank"},b.default.createElement("i",{className:"iconfont icon-twitter"})),b.default.createElement("a",{href:"http://weibo.com/p/1005053909739860",target:"_blank"},b.default.createElement("i",{className:"iconfont icon-sina"})))),b.default.createElement("div",{className:"sign-btn-group"},b.default.createElement(v.Link,{to:"/user",className:"sign-btn blue-btn",onClick:this.linkClick},"My info"),b.default.createElement("a",{href:"javascript:;",className:"sign-btn",onClick:this.signout},"Sign out"))):b.default.createElement("div",{className:"user-group"},b.default.createElement("div",{className:"sign-btn-group"},b.default.createElement(v.Link,{to:"/sign",className:"sign-btn blue-btn",onClick:this.linkClick},"Sign in"),b.default.createElement(v.Link,{to:"/sign?signup=1",className:"sign-btn green-btn",onClick:this.linkClick},"Sign up"))))))}}]),t}(m.Component),T=function(e){return{auth:e.auth}},C=function(e){return{actions:(0,x.bindActionCreators)(w.default,e),authConf:(0,x.bindActionCreators)(_.default,e)}};t.default=(0,k.connect)(T,C)(S),S.propTypes={show:m.PropTypes.bool,callback:m.PropTypes.func,showUserGroup:m.PropTypes.bool,store:m.PropTypes.object,auth:m.PropTypes.object,authConf:m.PropTypes.object,actions:m.PropTypes.object},S.defaultProps={show:!0,showUserGroup:!0},S.contextTypes={router:b.default.PropTypes.any.isRequired}},427:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=o(i),r=n(6),s=o(r),l=n(7),u=o(l),c=n(11),f=o(c),d=n(10),p=o(d),m=n(2),b=o(m),h=n(193),g=o(h),v=n(37),k=o(v);n(208);var x=function(e){function t(e){(0,s.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.shouldComponentUpdate=g.default.shouldComponentUpdate.bind(n),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e={loading:"loading",success:"success",error:"error",warning:"warning"},t=(0,k.default)("message",this.props.status,{show:this.props.show}),n=(0,k.default)("iconfont","icon-"+e[this.props.status||"warning"]);return b.default.createElement("div",{className:t,style:this.props.styles},b.default.createElement("i",{className:n}),b.default.createElement("span",null,this.props.message))}}]),t}(m.Component);t.default=x,x.propTypes={show:m.PropTypes.bool,styles:m.PropTypes.object,message:m.PropTypes.any,status:m.PropTypes.string},x.defaultProps={show:!1,styles:null,message:"",status:""}},428:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(461),a=o(i),r=n(222),s=o(r),l=n(119),u=o(l),c=s.default.create({baseURL:"",withCredentials:!1});c.interceptors.request.use(function(e){var t=u.default.getState().auth,n=t.isLogin,o=t.accessToken;return n&&o&&(e.headers.accessToken=o),e}),c.interceptors.response.use(function(e){return e.data},function(e){try{return a.default.reject(e.response.data)}catch(e){return a.default.reject({success:!1,message:"未知错误"})}}),t.default=c},429:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(78),s=i(r),l=n(121),u=i(l),c=n(33),f=i(c),d=n(66),p=n(188),m=o(p),b={isLogin:!1,accessToken:null,userInfo:null,events:[],signin_time:null},h=(0,d.handleActions)((a={},(0,s.default)(a,m.SET_STATUS,function(e,t){var n=t.payload;return window.localStorage.token=n.token,(0,f.default)({},e,{isLogin:!0,signin_time:new Date},n)}),(0,s.default)(a,m.SET_ACCESSTOKEN,function(e,t){var n=t.payload;return(0,f.default)({},e,{accessToken:n})}),(0,s.default)(a,m.SET_USERINFO,function(e,t){var n=t.payload;return(0,f.default)({},e,{userInfo:(0,f.default)(e.userInfo,n)})}),(0,s.default)(a,m.SUBSCRIBE_EVENTS,function(e,t){var n=t.payload;return(0,f.default)({},e,{events:e.events.concat(n)})}),(0,s.default)(a,m.REFRESH,function(e,t){t.payload;return(0,u.default)(e.events,function(e){return e()}),(0,f.default)({},e)}),a),b);t.default=h},430:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(78),s=i(r),l=n(33),u=i(l),c=n(66),f=n(189),d=o(f),p={},m=(0,c.handleActions)((a={},(0,s.default)(a,d.RESGISTER_EVENT,function(e,t){var n=t.payload,o={};return o[n.type]=n.fn,(0,u.default)({},e,o)}),(0,s.default)(a,d.EXECUTE,function(e,t){var n=t.payload,o=n.type,i=n.args;return"function"==typeof e[o]&&e[o].apply(null,i),(0,u.default)({},e)}),a),p);t.default=m},431:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(430),r=o(a),s=n(429),l=o(s),u=(0,i.combineReducers)({eventBus:r.default,auth:l.default});t.default=u},432:function(e,t,n){"use strict";e.exports=n(433)},433:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=o(i),r=n(6),s=o(r),l=n(7),u=o(l),c=n(11),f=o(c),d=n(10),p=o(d),m=n(2),b=o(m),h=n(64),g=n(452),v=o(g),k=n(434),x={path:"/",component:n(424).default,indexRoute:(0,v.default)(!1,"Home"),childRoutes:[(0,v.default)("/sign","Sign"),(0,v.default)("/active_account","ActiveAccount"),(0,v.default)("/my-friends","MyFriends"),(0,v.default)("/games","Games"),(0,v.default)("/about","About"),(0,v.default)("/user","User",{onEnter:k.userRequired,indexRoute:(0,v.default)(!1,"User/components/Info"),childRoutes:[(0,v.default)("/user/game-data","User/components/GameData")]}),(0,v.default)("/user/:account","User",{indexRoute:(0,v.default)(!1,"User/components/Info"),childRoutes:[(0,v.default)("/user/game-data/:account","User/components/GameData")]}),(0,v.default)("/single-games","SingleGames",{childRoutes:[(0,v.default)("/single-games/factory","SingleGames/components/Factory")]}),(0,v.default)("/online-games","OnlineGames",{onEnter:k.userRequired,childRoutes:[]})],onEnter:k.autoLogin},y=function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return b.default.createElement("div",null,b.default.createElement(h.Router,{history:h.browserHistory,routes:x}))}}]),t}(m.Component);t.default=y},434:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userRequired=t.autoLogin=void 0;var i=n(119),a=o(i),r=function(e,t,n){var o=a.default.getState().auth.isLogin;if(o)return void n();var i=window.localStorage.token;i?axios.post("/verify",{}).then(function(e){var t=e.data;window.localStorage.token=t.token,a.default.dispatch({type:"SET_STATUS",payload:t}),n()}).catch(function(e){window.localStorage.removeItem("token"),n()}):n()},s=function(e,t){var n=a.default.getState().auth.isLogin;if(!n)return void t("/Sign?message="+encodeURIComponent("请先登录")+"&link="+e.location.pathname)};t.autoLogin=r,t.userRequired=s},452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){var i={getComponent:function(e,o){n.e(0,function(e){o(null,n(487)("./"+t+"/index.jsx").default,t)})}};if(e&&(i.path=e),o)for(var a in o)i[a]=o[a];return i};t.default=o},453:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=n(431),r=o(a),s=function(e){var t=(0,i.createStore)(r.default,e,window.devToolsExtension?window.devToolsExtension():void 0);return t};e.exports=s}});