webpackJsonp([0,1],{69:function(t,e,i){t.exports={default:i(206),__esModule:!0}},114:function(t,e,i){t.exports={default:i(207),__esModule:!0}},180:function(t,e,i){"use strict";function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=i(112),r=i(113),n=s(r),a={register:(0,o.createAction)(n.RESGISTER_EVENT,function(t,e,i){return{type:t,fn:e,data:i}}),execute:(0,o.createAction)(n.EXECUTE)};e.default=a},183:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(32),r=s(o),n=i(16),a=s(n),l=i(17),c=s(l),u=i(34),f=s(u),p=i(33),h=s(p),d=i(4),m=s(d);i(400);var x=function(t){function e(t){return(0,a.default)(this,e),(0,f.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t))}return(0,h.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this,e={display:this.props.show?"block":"none",zIndex:this.props.zIndex||0};return m.default.createElement("div",{ref:function(e){return t.mask=e},style:e,className:"ReactCat-Modal-Mask",onClick:this.props.onClick})}}]),e}(d.Component);e.default=x,x.propTypes={show:d.PropTypes.bool,zIndex:d.PropTypes.number,onClick:d.PropTypes.func},x.defaultProps={show:!1}},191:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(32),r=s(o),n=i(16),a=s(n),l=i(17),c=s(l),u=i(34),f=s(u),p=i(33),h=s(p),d=i(4),m=s(d),x=i(116),y=s(x),v=i(183),b=s(v);i(405);var g=i(193),_=s(g),w=function(t){function e(t){(0,a.default)(this,e);var i=(0,f.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return i.state={gameProgress:100,gameSign:!1,helpShow:!1,word:"Game Start",game:null},i.switchState=i.switchState.bind(i),i.toggleHelp=i.toggleHelp.bind(i),i.clickFn=i.clickFn.bind(i),i}return(0,h.default)(e,t),(0,c.default)(e,[{key:"componentDidMount",value:function(){this.switchState()}},{key:"switchState",value:function(){var t={gameSign:!this.state.gameSign};this.state.game?t.word="Continue":t.game=new _.default(this.refs.factory),this.setState(t)}},{key:"toggleHelp",value:function(){this.setState({helpShow:!this.state.helpShow})}},{key:"clickFn",value:function(){this.state.game.start()}},{key:"render",value:function(){var t=(0,y.default)("game-main",{show:this.state.gameSign}),e=(0,y.default)("game-help",{show:this.state.helpShow}),i=(0,y.default)("game-prev-group",{hide:this.state.gameSign});return m.default.createElement("div",{ref:"view",className:"factory-view"},m.default.createElement(b.default,{show:this.state.helpShow,onClick:this.toggleHelp,zIndex:8}),m.default.createElement("div",{className:i},m.default.createElement("section",{className:"title-group"},m.default.createElement("h1",{className:"game-title"},"Factory"),m.default.createElement("small",{className:"version"},"beta")),m.default.createElement("button",{className:"game-btn",onClick:this.switchState},this.state.word),m.default.createElement("button",{className:"game-btn",onClick:this.toggleHelp},"Help")),m.default.createElement("div",{className:t},m.default.createElement("div",{className:"game-btn-group"},m.default.createElement("button",{onClick:this.switchState},m.default.createElement("i",{className:"iconfont icon-left"})),m.default.createElement("button",{onClick:this.toggleHelp},"Help")),m.default.createElement("div",{ref:"factory",className:"factory"})),m.default.createElement("div",{className:e},m.default.createElement("i",{className:"iconfont icon-close",onClick:this.toggleHelp}),m.default.createElement("section",null,m.default.createElement("h3",null,"通关条件"),m.default.createElement("p",{className:"help-item"},"所有输出值(OUT)均已期望值(EXP)相等")),m.default.createElement("section",null,m.default.createElement("h3",null,"内置变量"),m.default.createElement("p",{className:"help-item"},m.default.createElement("span",null,"NEXT："),"由入口INPUT或者上个处理器(Processor)传过来的值, 下次执行时覆盖ACC值"),m.default.createElement("p",{className:"help-item"},m.default.createElement("span",null,"ACC："),"一个从入口输入(INPUT), 经过处理到最终输出(OUTPUT)对应的结果的值")),m.default.createElement("section",null,m.default.createElement("h3",null,"内置方法"),m.default.createElement("p",{className:"help-item"},m.default.createElement("span",null,"T："),"参数缺省时为传递ACC, 传向上方的处理器(Processor), 当该方向是OUTPUT时为输出结果"),m.default.createElement("p",{className:"help-item"},m.default.createElement("span",null,"B："),"参数缺省时为传递ACC, 传向下方的处理器(Processor), 当该方向是OUTPUT时为输出结果"),m.default.createElement("p",{className:"help-item"},m.default.createElement("span",null,"L："),"参数缺省时为传递ACC, 传向左方的处理器(Processor), 当该方向是OUTPUT时为输出结果"),m.default.createElement("p",{className:"help-item"},m.default.createElement("span",null,"R："),"参数缺省时为传递ACC, 传向右方的处理器(Processor), 当该方向是OUTPUT时为输出结果")),m.default.createElement("section",null,m.default.createElement("h3",null,"提示"),m.default.createElement("p",{className:"help-item"},"使用ES6能让代码更加精简(前提你的浏览器支持)"),m.default.createElement("p",{className:"help-item"},"请遵守游戏规则, 不要使用window或者WebStorage等黑科技！")),m.default.createElement("section",null,m.default.createElement("h3",null,"感言"),m.default.createElement("p",{className:"help-item"},"当前为测试版本, 如果有BUG希望能反馈给我",m.default.createElement("a",{href:"https://nightcatsama.github.io/NightCat/dist/",target:"_blank"},"ISSUE")),m.default.createElement("p",{className:"help-item"},"如果你想参与关卡设计, 也可以告诉我。我的GITHUB地址为：",m.default.createElement("a",{href:"https://github.com/NightCatSama/NightCat",target:"_blank"},"https://github.com/NightCatSama/NightCat")))))}}]),e}(d.Component);e.default=w,w.propTypes={}},192:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(201),r=s(o),n=i(70),a=s(n),l=i(114),c=s(l),u=i(69),f=s(u),p=i(57),h=s(p),d=i(16),m=s(d),x=i(17),y=s(x),v={},b=function(){function t(e){(0,m.default)(this,t),(0,h.default)(this,v,e),this.init()}return(0,y.default)(t,[{key:"init",value:function(){this.items=[],this.active=null,this.last_output=0,this.success_count=0,this.output_active=null,this.createDetector(),this.initIems(),this.render()}},{key:"reset",value:function(){if(this.success_count=0,this.setActive(null,this.input_group),this.isMultigroup){this.last_output={};for(var t in this.output_group)this.last_output[t]=0,this.setActive(null,this.output_group[t].output_cgroup);(0,f.default)(this.items,function(t){t.output={};for(var e in t.output_el)t.output_el[e].textContent="",t.output_el[e].className="factory-item"})}else this.last_output=0,this.setActive(null,this.output_group),(0,f.default)(this.items,function(t){t.output_el.textContent="",t.output_el.className="factory-item"})}},{key:"createDetector",value:function(){if(this.elem=document.createElement("DIV"),this.elem.className="factory-detector",this.isMultigroup){this.output_group={},this.last_output={},this.input_group=this.createGroup("IN");for(var t in this.data[0].expectant_output){this.output_group[t]={},this.last_output[t]=0,this.output_group[t].el=this.createGroup("OUT."+t);var e=document.createElement("DIV");e.className="factory-group-child-wrap",this.output_group[t].expect_cgroup=this.createChildGroup(e,"factory-expect-group-wrap"),this.output_group[t].output_cgroup=this.createChildGroup(e,"factory-output-group-wrap"),this.output_group[t].exports=[],this.output_group[t].output=[],this.output_group[t].el.appendChild(e)}}else this.input_group=this.createGroup("IN"),this.output_group=this.createGroup("OUT"),this.expect_group=this.createGroup("EXP");this.wrap.firstChild?this.wrap.insertBefore(this.elem,this.wrap.firstChild):this.wrap.appendChild(this.elem)}},{key:"createGroup",value:function(t){var e=document.createElement("DIV");return e.className="factory-group",e.innerHTML='<div class="group-title">'+t+"</div>",this.elem.appendChild(e),e}},{key:"createChildGroup",value:function(t,e){var i=document.createElement("DIV");return i.className="factory-group-child "+e,t.appendChild(i),i}},{key:"createOutputGroup",value:function(t){var e=document.createElement("DIV");return e.className="factory-group",e.innerHTML='<div class="group-title">'+t+"</div>",this.this.elem.appendChild(e),e}},{key:"createItem",value:function(t,e,i){var s=document.createElement("DIV");return s.className="factory-item",s.innerHTML=null!==t?(0,c.default)(t):"",s.setAttribute("data-index",e),i.appendChild(s),s}},{key:"initIems",value:function(){this.items=(0,f.default)(this.data,function(t,e){return(0,h.default)({index:e},t)})}},{key:"render",value:function(){var t=this;(0,f.default)(this.items,function(e,i){if(t.isMultigroup){t.createItem(e.input,i,t.input_group),e.output_el={},e.output={};for(var s in e.expectant_output){var o=e.expectant_output[s];e.output_el[s]=t.createItem(null,i,t.output_group[s].output_cgroup),t.createItem(o,i,t.output_group[s].expect_cgroup),t.output_group[s].exports.push(o)}}else t.createItem(e.input,i,t.input_group),e.output_el=t.createItem(e.output,i,t.output_group),t.createItem(e.expectant_output,i,t.expect_group)})}},{key:"setInputActive",value:function(t){this.setActive(t,this.input_group)}},{key:"setActive",value:function(t,e){var i=e.querySelector(".active");if(i&&i.classList.remove("active"),"number"==typeof t){var s=e.querySelector('[data-index="'+t+'"]');s&&s.classList.add("active")}}},{key:"output",value:function(t,e){var i=this.isMultigroup?this.last_output[e]:this.last_output;if(this.isMultigroup){var s=this.output_group[e];if(i<this.data.length){var o=s.exports[i],r=this.items[i].output_el[e],n={output:t,expectant_output:o,output_el:r};this.items[i].output[e]=s.output[i]=t,r.textContent=null!==t?(0,c.default)(t):"",this.examine(i,n),this.setActive(i++,s.output_cgroup),this.last_output[e]=i,i===this.data.length&&this.setActive(null,s.output_cgroup)}}else i<this.data.length&&(this.items[i].output=t,this.items[i].output_el.textContent=null!==t?(0,c.default)(t):"",this.examine(i),this.setActive(i++,this.output_group),this.last_output=i,i===this.data.length&&this.setActive(null,this.output_group))}},{key:"examine",value:function(t,e){var i=e||this.items[t];this.isDiff(i.output,i.expectant_output)?i.output_el.classList.add("error"):(this.isMultigroup?this.isDiff(this.items[t].output,this.items[t].expectant_output)||this.success_count++:this.success_count++,i.output_el.classList.add("success"))}},{key:"isDiff",value:function(t,e){if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))return!0;if(Array.isArray(t))return t.length!==e.length||t.some(function(t,i){return t!==e[i]});if("object"===("undefined"==typeof t?"undefined":(0,a.default)(t))){if((0,r.default)(t).length!==(0,r.default)(e).length)return!0;for(var i in t)if(t[i]!==e[i])return!0;return!1}return t!==e}},{key:"cloneObj",value:function(t){var e={};for(var i in t)e[i]=t[i];return e}}]),t}();e.default=b},193:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(69),r=s(o),n=i(57),a=s(n),l=i(16),c=s(l),u=i(17),f=s(u),p=i(192),h=s(p),d=i(194),m=s(d),x=i(195),y=s(x);i(402);var v={size:null,inService:!1,missions:y.default,mission:4,test_count:2,data_count:20,cols:3,rows:3,processor_count:9,speed:5},b=function(){function t(e,i){(0,c.default)(this,t),(0,a.default)(this,v,i),this.elem=e,this.data=[],this.events=[],this.detector=null,this.active=0,this.test_active=0,this.init()}return(0,f.default)(t,[{key:"init",value:function(){this.initSize(),this.getMissions(),this.initMission(),this.createContaner(),this.createConsole(),this.initProcessor(),this.createDetector(),this.createPanel()}},{key:"destory",value:function(){for(this.elem.innerHTML="",this.data=[],this.events=[],this.active=0,this.test_active=0,this.inService=!1,this.detector=null;this.events.length;)this.events.shift()()}},{key:"initSize",value:function(){this.size?(this.width=this.size[0],this.height=this.size[1],this.elem.style.cssText="\n\t\t\t\twidth: "+this.width+"px;\n\t\t\t\theight: "+this.height+"px;\n\t\t\t"):(this.width=this.elem.offsetWidth,this.height=this.elem.offsetHeight)}},{key:"createDetector",value:function(){this.detector=new h.default({wrap:this.console,isMultigroup:this.isMultigroup||!1,factory:this,data:this.data})}},{key:"createPanel",value:function(){this.panel=document.createElement("DIV"),this.panel.className="factory-panel",this.btnGroup=document.createElement("DIV"),this.btnGroup.className="factory-btn-group",this.nextBtn=this.createBtn("Next",this.next,this.btnGroup),this.autoBtn=this.createBtn("Auto",this.auto,this.btnGroup),this.resetBtn=this.createBtn("Reset",this.reset,this.btnGroup),this.restartBtn=this.createBtn("Restart",this.restart,this.btnGroup),this.msgGroup=document.createElement("DIV"),this.msgGroup.className="factory-msg-group",this.msgGroup.textContent="Code Mode",this.speedGroup=document.createElement("DIV"),this.speedGroup.className="factory-speed-group",this.slowBtn=this.createBtn("Slow",this.slow,this.speedGroup),this.speedDisplay=document.createElement("DIV"),this.speedDisplay.className="factory-speed",this.setSpeed(this.speed),this.speedGroup.appendChild(this.speedDisplay),this.fastBtn=this.createBtn("Fast",this.fast,this.speedGroup),this.panel.appendChild(this.speedGroup),this.panel.appendChild(this.btnGroup),this.panel.appendChild(this.msgGroup),this.console.appendChild(this.panel)}},{key:"setSpeed",value:function(t){this.speed=t,this.interval=330-30*this.speed,this.speedDisplay.textContent="Speed: "+this.speed,this.resetTimer()}},{key:"fast",value:function(){return!this.fastBtn.classList.contains("disabled")&&(1===this.speed&&this.slowBtn.classList.remove("disabled"),this.setSpeed(this.speed+1),void(10===this.speed&&this.fastBtn.classList.add("disabled")))}},{key:"slow",value:function(){return!this.slowBtn.classList.contains("disabled")&&(10===this.speed&&this.fastBtn.classList.remove("disabled"),this.setSpeed(this.speed-1),void(1===this.speed&&this.slowBtn.classList.add("disabled")))}},{key:"createBtn",value:function(t,e,i){var s=document.createElement("BUTTON");return s.className="factory-panel-btn",s.textContent=t,e=e.bind(this),s.addEventListener("click",e,!1),this.events.push(function(){return s.removeEventListener("click",e,!1)}),i.appendChild(s),s}},{key:"createContaner",value:function(){this.container=document.createElement("DIV"),this.container.className="factory-container",this.elem.appendChild(this.container)}},{key:"createConsole",value:function(){this.console=document.createElement("DIV"),this.console.className="factory-console",this.elem.appendChild(this.console)}},{key:"getMissions",value:function(){var t=this.missions[this.mission];"function"!=typeof t?alert("你已全部通关（撒花"):((0,a.default)(this,this.missions[this.mission]()),this.processor_count=this.cols*this.rows)}},{key:"initMission",value:function(){this.intro&&this.elem.setAttribute("data-intro",this.intro);for(var t=0;t<this.data_count;t++){var e=this.missionCreater();this.data.push({input:e.input,output:null,expectant_output:e.output,result:"pending"})}}},{key:"initProcessor",value:function(){var t=this;this.processors=[];for(var e=0;e<this.processor_count;e++)this.processors.push(new m.default({width:100/this.cols-3+"%",height:100/this.rows-3+"%",status:this.err&&this.err.indexOf(e)>-1?"error":"idle",size:this.size,wrap:this.container,factory:this,index:e}));(0,r.default)(this.processors,function(e,i){var s=i-1;e.leftProcessor=i%t.cols?t.processors[s]||null:null;var o=i+1;e.rightProcessor=o%t.cols?t.processors[o]||null:null;var r=i-t.cols;e.topProcessor=t.processors[r]||null;var n=i+t.cols;e.bottomProcessor=t.processors[n]||null,t.entry[i]&&e.setPort(t.entry[i],"entry"),t.export[i]&&e.setPort(t.export[i],"export")})}},{key:"unableCodeInput",value:function(t){(0,r.default)(this.processors,function(e){t?e.code.setAttribute("disabled",!0):e.code.removeAttribute("disabled")})}},{key:"auto",value:function(){var t=this;return this.timer?this.pause():(this.autoBtn.textContent="pause",this.autoBtn.classList.add("active"),void(this.timer=setInterval(function(){t.next()},this.interval)))}},{key:"resetTimer",value:function(){var t=this;return!!this.timer&&(this.next(),clearInterval(this.timer),this.timer=null,void(this.timer=setInterval(function(){t.next()},this.interval)))}},{key:"pause",value:function(){this.autoBtn.textContent="Auto",this.autoBtn.classList.remove("active"),clearInterval(this.timer),this.timer=null}},{key:"end",value:function(){this.detector.success_count===this.data.length?this.test_active===this.test_count?(this.pause(),this.msgGroup.textContent="你通关了, 点GO进入下一关:)",this.nextMissionBtn||(this.nextMissionBtn=this.createBtn("Go",this.nextMission,this.btnGroup))):(this.console.removeChild(this.detector.elem),this.detector=null,this.createDetector(),this.test_active++,this.active=0,this.detector.success_count=0,this.msgGroup.textContent="Running Mode：已通过测试（"+this.test_active+"/"+(this.test_count+1)+"）",(0,r.default)(this.processors,function(t){return t.setCom(null)})):(this.pause(),this.msgGroup.textContent="出错了"+(this.data.length-this.detector.success_count)+"个, 点击Reset再改改")}},{key:"nextMission",value:function(){this.mission=this.mission+1,this.restart(),this.nextMissionBtn=null}},{key:"restart",value:function(){this.msgGroup.textContent="Code Mode",this.pause(),this.destory(),this.init()}},{key:"reset",value:function(){this.active=0,this.test_active=0,this.inService=!1,this.unableCodeInput(!1),this.detector.reset(),this.msgGroup.textContent="Code Mode",(0,r.default)(this.processors,function(t){t._NEXT=null,t.setCom(null),t.resetACC()})}},{key:"next",value:function(){this.active<this.data.length?(this.detector.setInputActive(this.active),this.entryGetNext(),this.inService||(this.inService=!0,this.msgGroup.textContent="Running Mode",this.unableCodeInput(!0)),this.active++):this.detector.setInputActive(),(0,r.default)(this.processors,function(t){t.resetACC()}),this.entryGetNext(),(0,r.default)(this.processors,function(t){t.next()}),!this.processors.some(function(t){return"run"===t.status})&&this.end()}},{key:"entryGetNext",value:function(){for(var t in this.entry)this.data[this.active]&&this.processors[t].setNext(this.data[this.active].input)}}]),t}();e.default=b},194:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=__webpack_require__(114),_stringify2=_interopRequireDefault(_stringify),_assign=__webpack_require__(57),_assign2=_interopRequireDefault(_assign),_classCallCheck2=__webpack_require__(16),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(17),_createClass3=_interopRequireDefault(_createClass2),_default={width:"30%",height:"30%",_NEXT:null,_ACC:null,_COM:null,_context:{},cur_size:0,size:128,status:"idle"},Processor=function(){function Processor(t){(0,_classCallCheck3.default)(this,Processor),(0,_assign2.default)(this,_default,t),this.asyncSize=this.asyncSize.bind(this),this.closeError=this.closeError.bind(this),this.init()}return(0,_createClass3.default)(Processor,[{key:"bindEvent",value:function(){this.code.addEventListener("keyup",this.asyncSize),this.elem.addEventListener("click",this.closeError)}},{key:"unbindEvent",value:function(){this.code.removeEventListener("keyup",this.asyncSize),this.elem.removeEventListener("click",this.closeError)}},{key:"init",value:function(){this.createProcessor(),this.bindEvent()}},{key:"destory",value:function(){this.unbindEvent()}},{key:"createProcessor",value:function(){this.elem=document.createElement("DIV"),this.elem.className="factory-process",this.elem.style.cssText="\n\t\twidth: "+this.width+";\n\t\theight: "+this.height+";\n\t\t","error"===this.status&&this.setError(),this.code=this.createCode(),this.displayArea=this.createDisplayArea(),this.wrap.appendChild(this.elem)}},{key:"setError",value:function(){this.elem.classList.add("factory-error"),this.elem.setAttribute("data-error","ERROR")}},{key:"setCodeError",value:function(t){this.elem.classList.add("factory-code-error"),this.elem.setAttribute("data-error",t),this.factory.pause()}},{key:"closeError",value:function(){this.elem.classList.contains("factory-code-error")&&this.elem.classList.remove("factory-code-error")}},{key:"createCode",value:function(){var t=document.createElement("DIV");t.className="code-group",t.innerHTML='<div class="code-index">Processor '+(this.index+1)+"</div>";var e=document.createElement("TEXTAREA");return e.className="code",e.setAttribute("spellcheck",!1),t.appendChild(e),this.elem.appendChild(t),e}},{key:"createDisplayArea",value:function(){var t=document.createElement("DIV");return t.className="display-area",this.displayNEXT=this.createItem("NEXT",this._NEXT,t),this.displayACC=this.createItem("ACC",this._ACC,t),this.displayCOM=this.createItem("COM",this._COM,t),this.displayStatus=this.createItem("STATUS",this.status,t),this.displaySize=this.createItem("BYTE",this.cur_size+"/"+this.size,t),this.elem.appendChild(t),t}},{key:"createItem",value:function(t,e,i){var s=document.createElement("DIV");s.className="display-item",s.innerHTML='<div class="item-title">'+t+"</div>";var o=document.createElement("DIV");return o.className="item-value",o.textContent=e,s.appendChild(o),i.appendChild(s),o}},{key:"asyncSize",value:function(t){var e=t.target.value.match(/\S/g);this.cur_size=e?e.length:0,this.cur_size>this.size&&(this.cur_size=this.size,t.target.value=t.target.value.substr(0,this.size)),this.displaySize.innerHTML=this.cur_size+"/"+this.size}},{key:"transmitACC",value:function(t,e){return"entry"!==this[e].type&&void("export"===this[e].type?null!==t&&this.factory.detector.output(t,this[e].name):this[e].setNext(t))}},{key:"setCom",value:function(t){this._COM=t,this.displayCOM.innerHTML=null!==this._COM?(0,_stringify2.default)(this._COM):""}},{key:"setStatus",value:function(t){this.status=t,this.displayStatus.innerHTML=this.status}},{key:"setNext",value:function(t){"error"!==this.status&&(this._NEXT=t,this.displayNEXT.innerHTML=null!==this._NEXT?(0,_stringify2.default)(this._NEXT):"")}},{key:"next",value:function(){return"error"!==this.status&&(this.isEnd(),void(null!==this._ACC&&this.executeCode()))}},{key:"resetACC",value:function(){this._ACC=this._NEXT,this.displayACC.textContent=null!==this._ACC?(0,_stringify2.default)(this._ACC):"",this.setNext(null)}},{key:"isEnd",value:function(){null===this._ACC&&null===this._NEXT?this.setStatus("idle"):this.setStatus("run")}},{key:"executeCode",value:function executeCode(){var _this=this,code=this.code.value,fn=function fn(_ref){var NEXT=_ref.NEXT,ACC=_ref.ACC,COM=_ref.COM,L=_ref.L,R=_ref.R,T=_ref.T,B=_ref.B,C=_ref.C,__ERROR__=_ref.__ERROR__;try{eval(code)}catch(t){console.error(t),__ERROR__(t)}};this._context={},fn.call(this._context,{NEXT:this._NEXT,ACC:this._ACC,COM:this._COM,L:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_this._ACC;return _this.leftProcessor&&_this.transmitACC(t,"leftProcessor")},R:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_this._ACC;return _this.rightProcessor&&_this.transmitACC(t,"rightProcessor")},T:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_this._ACC;return _this.topProcessor&&_this.transmitACC(t,"topProcessor")},B:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_this._ACC;return _this.bottomProcessor&&_this.transmitACC(t,"bottomProcessor")},C:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _this.setCom(t)},__ERROR__:function(t){return _this.setCodeError(t)}})}},{key:"setPort",value:function(t,e){this[t.pos]={type:e,name:t.name},this.elem.setAttribute("data-port",("entry"===e?"INPUT":"OUTPUT")+" "+(t.name||"")+" ↓"),this.elem.classList.add(e)}}]),Processor}();exports.default=Processor},195:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(69),r=s(o);e.default={1:function(){var t=function(){var t=function(){return~~(10*Math.random())},e=t();return{input:e,output:2*e}};return{intro:"Mission 1：简单的乘法",err:[3,4],cols:3,rows:3,size:64,entry:{0:{pos:"topProcessor"}},export:{6:{pos:"bottomProcessor"}},missionCreater:t}},2:function(){var t=function(){var t=function(){return~~(10*Math.random())},e=[t(),t(),t()],i=(0,r.default)(e.slice().sort(function(t,e){return t-e}),function(t,e){return t-e});return{input:e,output:i.reduce(function(t,e){return t*e})}};return{intro:"Mission 2：排序后减去索引，最后再相乘",err:[],size:64,cols:4,rows:3,entry:{0:{pos:"topProcessor"}},export:{11:{pos:"bottomProcessor"}},missionCreater:t}},3:function(){var t=function(){var t=function(){return~~(3*Math.random())-1},e=t(),i=e>0?{A:1,B:0,C:0}:0===e?{A:0,B:1,C:0}:{A:0,B:0,C:1};return{input:e,output:i}};return{intro:"Mission 3：分类",err:[],size:32,cols:3,rows:3,isMultigroup:!0,entry:{1:{pos:"topProcessor"}},export:{6:{name:"A",pos:"bottomProcessor"},7:{name:"B",pos:"bottomProcessor"},8:{name:"C",pos:"bottomProcessor"}},missionCreater:t}},4:function(){var t=0,e=0,i=function(){var i=function(){return~~(10*Math.random())},s=i();return t+=s,e=Math.abs(s-e),{input:s,output:{A:t,B:e}}};return{intro:"Mission 4：累加 and 差值的绝对值",err:[],size:64,cols:2,rows:2,isMultigroup:!0,entry:{0:{pos:"topProcessor"}},export:{2:{name:"A",pos:"bottomProcessor"},3:{name:"B",pos:"bottomProcessor"}},missionCreater:i}}}},196:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(32),r=s(o),n=i(16),a=s(n),l=i(17),c=s(l),u=i(34),f=s(u),p=i(33),h=s(p),d=i(4),m=s(d);i(406);var x=i(106),y=i(56),v=i(180),b=s(v),g=function(t){function e(t){return(0,a.default)(this,e),(0,f.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t))}return(0,h.default)(e,t),(0,c.default)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return m.default.createElement("div",{ref:"view",className:"home-view"},m.default.createElement("section",{className:"info"},m.default.createElement("h1",null,"NightCat"),m.default.createElement("small",null,"- Welcome to NightCat game city -")))}}]),e}(d.Component),_=function(t){return{store:t}},w=function(t){return{actions:(0,y.bindActionCreators)(b.default,t)}};e.default=(0,x.connect)(_,w)(g),g.propTypes={actions:d.PropTypes.any}},201:function(t,e,i){t.exports={default:i(212),__esModule:!0}},206:function(t,e,i){i(128),i(238),t.exports=i(10).Array.from},207:function(t,e,i){var s=i(10),o=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},212:function(t,e,i){i(244),t.exports=i(10).Object.keys},219:function(t,e,i){var s=i(71),o=i(13)("toStringTag"),r="Arguments"==s(function(){return arguments}()),n=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=n(e=Object(t),o))?i:r?s(e):"Object"==(a=s(e))&&"function"==typeof e.callee?"Arguments":a}},220:function(t,e,i){"use strict";var s=i(22),o=i(49);t.exports=function(t,e,i){e in t?s.f(t,e,o(0,i)):t[e]=i}},223:function(t,e,i){var s=i(48),o=i(13)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(s.Array===t||r[o]===t)}},225:function(t,e,i){var s=i(35);t.exports=function(t,e,i,o){try{return o?e(s(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&s(r.call(t)),e}}},227:function(t,e,i){var s=i(13)("iterator"),o=!1;try{var r=[7][s]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var r=[7],n=r[s]();n.next=function(){return{done:i=!0}},r[s]=function(){return n},t(r)}catch(t){}return i}},237:function(t,e,i){var s=i(219),o=i(13)("iterator"),r=i(48);t.exports=i(10).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[s(t)]}},238:function(t,e,i){"use strict";var s=i(72),o=i(20),r=i(50),n=i(225),a=i(223),l=i(127),c=i(220),u=i(237);o(o.S+o.F*!i(227)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,f,p=r(t),h="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,x=void 0!==m,y=0,v=u(p);if(x&&(m=s(m,d>2?arguments[2]:void 0,2)),void 0==v||h==Array&&a(v))for(e=l(p.length),i=new h(e);e>y;y++)c(i,y,x?m(p[y],y):p[y]);else for(f=v.call(p),i=new h;!(o=f.next()).done;y++)c(i,y,x?n(f,m,[o.value,y],!0):o.value);return i.length=y,i}})},244:function(t,e,i){var s=i(50),o=i(38);i(125)("keys",function(){return function(t){return o(s(t))}})},251:function(t,e,i){e=t.exports=i(27)(),e.push([t.id,".ReactCat-Modal-Mask{position:fixed;height:100%;width:100%;left:0;top:0;background-color:rgba(0,0,0,.6)}",""])},253:function(t,e,i){e=t.exports=i(27)(),e.push([t.id,".factory{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;padding:10px;margin:14px;border:1px solid #fffffb;background-color:#130c0e}.factory:after{content:attr(data-intro);position:absolute;top:5px;left:50%;color:#2ecc71;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.factory-container{-webkit-box-flex:1;-ms-flex:1;flex:1;margin:10px;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin:30px 20px}.factory-container,.factory-container .factory-process{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}.factory-container .factory-process{border:1px solid #fffffb}.factory-container .factory-process.entry:before{content:attr(data-port);color:#3498db;position:absolute;left:10px;top:-25px}.factory-container .factory-process.export:after{content:attr(data-port);position:absolute;color:#ffd400;right:10px;bottom:-25px}.factory-container .factory-process .code-group{position:relative;height:100%;-webkit-box-flex:1;-ms-flex:1;flex:1}.factory-container .factory-process .code-index{position:absolute;width:100%;height:100%;opacity:.1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:1}.factory-container .factory-process .code{position:absolute;height:100%;width:100%;resize:none;background-color:transparent;color:#fffffb;font-size:14px;border-right:1px solid #fffffb;padding:5px;font-family:Montserrat,Segoe UI,Microsoft Yahei,Helvetica,Arial;z-index:2}.factory-container .factory-process .display-area{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;top:0;right:0;width:10%;min-width:80px;height:100%;z-index:2}.factory-container .factory-process .display-area .display-item{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:2px 2px 0;padding:3px 0;text-align:center;border:1px solid #fffffb}.factory-container .factory-process .display-area .display-item>div{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.factory-container .factory-process .display-area .item-title{border-bottom:1px solid #d3dce6}.factory-container .factory-process.factory-error:after{opacity:.9;font-size:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.factory-container .factory-process.factory-code-error:after,.factory-container .factory-process.factory-error:after{content:attr(data-error);position:absolute;top:0;left:0;width:100%;height:100%;padding:20px;background-color:#d71345;z-index:5}.factory-container .factory-process.factory-code-error:after{opacity:.85;font-size:18px}.factory-console{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.factory-console,.factory-detector{display:-webkit-box;display:-ms-flexbox;display:flex}.factory-detector{-webkit-box-flex:1;-ms-flex:1;flex:1;width:380px;margin-top:40px}.factory-detector .factory-group{min-width:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px solid #fffffb;margin:0 10px;color:#fffffb;text-align:center}.factory-detector .factory-group .factory-group-child-wrap{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1}.factory-detector .factory-group .factory-group-child{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:40px;border:1px solid #fffffb;margin:1px}.factory-detector .factory-group .factory-expect-group-wrap{color:#999}.factory-detector .factory-group .factory-output-group-wrap{color:#fffffb}.factory-detector .factory-group .factory-item{height:25px;line-height:25px;padding:2px 5px;font-size:14px}.factory-detector .factory-group .factory-item>div{-webkit-box-flex:1;-ms-flex:1;flex:1;white-space:nowrap;letter-spacing:-.8px}.factory-detector .factory-group .factory-item>div span:last-child{opacity:.6}.factory-detector .factory-group .error{color:#d71345}.factory-detector .factory-group .success{color:#2ecc71}.factory-detector .factory-group .active{background-color:#fffffb;color:#130c0e}.factory-detector .factory-group .group-title{font-size:12px;padding:5px 10px;text-align:center;white-space:nowrap;border:1px solid #fffffb;margin:1px;color:#fffffb}.factory-panel{margin:10px 0 0;padding:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.factory-panel .factory-btn-group,.factory-panel .factory-speed-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:10px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.factory-panel .factory-panel-btn{border:none;font-size:16px;color:#fffffb;background-color:transparent;border:1px solid #fffffb;padding:8px 0;width:20%;-webkit-box-flex:1;-ms-flex:1;flex:1;cursor:pointer}.factory-panel .factory-panel-btn:not(:last-child){margin-right:8px}.factory-panel .factory-panel-btn.active,.factory-panel .factory-panel-btn:not(.disabled):hover{background-color:#fffffb;color:#130c0e}.factory-panel .factory-panel-btn.disabled{opacity:.5;cursor:not-allowed}.factory-panel .factory-speed{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center}.factory-panel .factory-msg-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1;flex:1;background-color:#fffffb;color:#130c0e;padding:5px 10px}",""]);
},256:function(t,e,i){e=t.exports=i(27)(),e.push([t.id,".factory-view{-webkit-box-flex:1;-ms-flex:1;flex:1;background-color:#130c0e;color:#fffffb;position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;flex-direction:column}.factory-view,.factory-view .game-prev-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.factory-view .game-prev-group{position:fixed;top:0;left:0;width:100%;height:100%;flex-direction:column}.factory-view .game-prev-group.hide{display:none}.factory-view .title-group{margin:150px 0 100px;position:relative}.factory-view .title-group .game-title{font-size:60px;position:relative;-webkit-animation:restlessly 2s infinite;animation:restlessly 2s infinite}.factory-view .title-group .version{font-size:12px;position:absolute;bottom:14px;left:100%;opacity:.5}.factory-view .game-btn{margin-bottom:20px;border:none;font-size:30px;background-color:transparent;color:#fffffb;cursor:pointer;-webkit-animation:breathe 5s infinite;animation:breathe 5s infinite}.factory-view .game-btn:hover{text-shadow:0 0 5px hsla(0,0%,100%,.6)}.factory-view+.menu .menu-btn-outside{color:#fffffb}.factory-view .game-main{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-flex:1;-ms-flex:1;flex:1;visibility:hidden}.factory-view .game-main.show{visibility:visible}.factory-view .game-btn-group{position:absolute;left:20px;top:20px;z-index:9}.factory-view .game-btn-group button{border:none;font-size:16px;margin-right:10px;background-color:transparent;color:#fffffb;cursor:pointer}.game-help{position:fixed;color:#130c0e;font-size:16px;background-color:#fffffb;border-radius:10px;padding:20px;z-index:11;visibility:hidden;-webkit-transform:scale(.6);transform:scale(.6);opacity:0;-webkit-transition:all .3s;transition:all .3s}.game-help.show{-webkit-transform:scale(1);transform:scale(1);opacity:1;visibility:visible}.game-help section:not(:last-child){margin-bottom:30px}.game-help h3{color:#2980b9}.game-help p{margin:3px 0}.game-help .icon-close{position:absolute;cursor:pointer;right:15px;top:15px}.game-help .icon-close:hover{opacity:.8}@-webkit-keyframes restlessly{0%{text-shadow:3px 2px 0 #d71345}20%{text-shadow:2px -2px 0 #9b59b6}40%{text-shadow:-4px 2px 0 #d3dce6}60%{text-shadow:-3px -2px 0 #27ae60}80%{text-shadow:4px 3px 0 #b22c46}to{text-shadow:3px 2px 0 #d71345}}@keyframes restlessly{0%{text-shadow:3px 2px 0 #d71345}20%{text-shadow:2px -2px 0 #9b59b6}40%{text-shadow:-4px 2px 0 #d3dce6}60%{text-shadow:-3px -2px 0 #27ae60}80%{text-shadow:4px 3px 0 #b22c46}to{text-shadow:3px 2px 0 #d71345}}@-webkit-keyframes breathe{0%{opacity:1;text-shadow:0 0 0 #fff}20%{opacity:.9;text-shadow:0 0 5px #fff}40%{opacity:.8;text-shadow:0 0 7px #fff}50%{opacity:.7;text-shadow:0 0 10px #fff}60%{opacity:.8;text-shadow:0 0 7px #fff}80%{opacity:.9;text-shadow:0 0 5px #fff}to{opacity:1;text-shadow:0 0 0 #fff}}@keyframes breathe{0%{opacity:1;text-shadow:0 0 0 #fff}20%{opacity:.9;text-shadow:0 0 5px #fff}40%{opacity:.8;text-shadow:0 0 7px #fff}50%{opacity:.7;text-shadow:0 0 10px #fff}60%{opacity:.8;text-shadow:0 0 7px #fff}80%{opacity:.9;text-shadow:0 0 5px #fff}to{opacity:1;text-shadow:0 0 0 #fff}}",""])},257:function(t,e,i){e=t.exports=i(27)(),e.push([t.id,".home-view{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;background-image:url("+i(411)+");background-repeat:no-repeat;background-size:cover;cursor:default}.home-view .info{position:relative;font-size:20px;margin:120px 0 0 60px;width:300px;text-align:center}.home-view+.menu .menu-btn-outside,.home-view .info{color:#fffffb;text-shadow:0 0 10px hsla(0,0%,100%,.86)}",""])},400:function(t,e,i){var s=i(251);"string"==typeof s&&(s=[[t.id,s,""]]);i(31)(s,{});s.locals&&(t.exports=s.locals)},402:function(t,e,i){var s=i(253);"string"==typeof s&&(s=[[t.id,s,""]]);i(31)(s,{});s.locals&&(t.exports=s.locals)},405:function(t,e,i){var s=i(256);"string"==typeof s&&(s=[[t.id,s,""]]);i(31)(s,{});s.locals&&(t.exports=s.locals)},406:function(t,e,i){var s=i(257);"string"==typeof s&&(s=[[t.id,s,""]]);i(31)(s,{});s.locals&&(t.exports=s.locals)},411:function(t,e,i){t.exports=i.p+"static/img/bg.c198192.jpg"},414:function(t,e,i){function s(t){return i(o(t))}function o(t){return r[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var r={"./factory/index.jsx":191,"./home/index.jsx":196};s.keys=function(){return Object.keys(r)},s.resolve=o,t.exports=s,s.id=414}});