webpackJsonp([0,1],{174:function(e,t,i){e.exports={default:i(296),__esModule:!0}},175:function(e,t,i){e.exports={default:i(297),__esModule:!0}},183:function(e,t,i){var r=i(188);"string"==typeof r&&(r=[[e.id,r,""]]);i(41)(r,{});r.locals&&(e.exports=r.locals)},184:function(e,t,i){var r=i(189);"string"==typeof r&&(r=[[e.id,r,""]]);i(41)(r,{});r.locals&&(e.exports=r.locals)},188:function(e,t,i){t=e.exports=i(42)(),t.push([e.id,'.factory-view{-webkit-box-flex:1;-ms-flex:1;flex:1;background-color:#130c0e;color:#fffffb;position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;flex-direction:column}.factory-view,.factory-view .game-prev-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.factory-view .game-prev-group{flex-direction:column}.factory-view .game-prev-group.hide{display:none}.factory-view .game-title{margin-top:150px}.factory-view .game-btn{margin-top:100px;border:none;font-size:30px;background-color:transparent;color:#fffffb;cursor:pointer}.factory-view .game-btn:hover{text-shadow:0 0 5px hsla(0,0%,100%,.6)}.factory-view+.menu .menu-btn-outside{color:#fffffb}.factory{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:1400px;height:800px;padding:10px;border:1px solid #fffffb;background-color:#130c0e;visibility:hidden}.factory.show{visibility:visible}.factory-container{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin:30px 20px}.factory-container:before{content:"INPUT \\2193";position:absolute;left:10px;top:-25px}.factory-container:after{content:"OUTPUT \\2193";position:absolute;right:10px;bottom:-25px}.factory-container .factory-process{position:relative;width:300px;height:200px;border:1px solid #fffffb}.factory-container .factory-process .code-group{position:relative;height:100%;width:220px}.factory-container .factory-process .code-index{position:absolute;width:100%;height:100%;opacity:.1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:1}.factory-container .factory-process .code{position:absolute;height:100%;width:100%;resize:none;background-color:transparent;color:#fffffb;font-size:14px;border-right:1px solid #fffffb;padding:5px;font-family:Montserrat,Segoe UI,Microsoft Yahei,Helvetica,Arial;z-index:2}.factory-container .factory-process .display-area{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;top:0;right:0;width:79px;height:100%;z-index:2}.factory-container .factory-process .display-area .display-item{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:2px 2px 0;padding:3px 0;text-align:center;border:1px solid #fffffb}.factory-container .factory-process .display-area .display-item>div{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.factory-container .factory-process .display-area .item-title{border-bottom:1px solid #d3dce6}.factory-container .factory-process.factory-error:after{opacity:.9;font-size:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.factory-container .factory-process.factory-code-error:after,.factory-container .factory-process.factory-error:after{content:attr(data-error);position:absolute;top:0;left:0;width:100%;height:100%;padding:20px;background-color:#d71345;z-index:5}.factory-container .factory-process.factory-code-error:after{opacity:.85;font-size:18px}.factory-detector{display:-webkit-box;display:-ms-flexbox;display:flex;width:350px;height:100%;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.factory-detector .factory-group{-webkit-box-flex:1;-ms-flex:1;flex:1;border:1px solid #fffffb;margin:0 10px;color:#fffffb}.factory-detector .factory-group>div{padding:2px 5px;font-size:14px;letter-spacing:1px}.factory-detector .factory-group .active{background-color:#fffffb;color:#130c0e}.btn{border:none;margin-top:10px;color:#fffffb;background-color:transparent}',""])},189:function(e,t,i){t=e.exports=i(42)(),t.push([e.id,".home-view{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;background-image:url("+i(191)+");background-repeat:no-repeat;background-size:cover;cursor:default}.home-view .info{position:relative;font-size:20px;margin:120px 0 0 60px;width:300px;text-align:center}.home-view+.menu .menu-btn-outside,.home-view .info{color:#fffffb;text-shadow:0 0 10px hsla(0,0%,100%,.86)}",""])},191:function(e,t,i){e.exports=i.p+"static/img/bg.c198192.jpg"},296:function(e,t,i){i(157),i(328),e.exports=i(10).Array.from},297:function(e,t,i){var r=i(10),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},308:function(e,t,i){var r=i(92),o=i(15)("toStringTag"),n="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=s(t=Object(e),o))?i:n?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},309:function(e,t,i){"use strict";var r=i(20),o=i(51);e.exports=function(e,t,i){t in e?r.f(e,t,o(0,i)):e[t]=i}},312:function(e,t,i){var r=i(49),o=i(15)("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||n[o]===e)}},314:function(e,t,i){var r=i(37);e.exports=function(e,t,i,o){try{return o?t(r(i)[0],i[1]):t(i)}catch(t){var n=e.return;throw void 0!==n&&r(n.call(e)),t}}},316:function(e,t,i){var r=i(15)("iterator"),o=!1;try{var n=[7][r]();n.return=function(){o=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var i=!1;try{var n=[7],s=n[r]();s.next=function(){return{done:i=!0}},n[r]=function(){return s},e(n)}catch(e){}return i}},327:function(e,t,i){var r=i(308),o=i(15)("iterator"),n=i(49);e.exports=i(10).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||n[r(e)]}},328:function(e,t,i){"use strict";var r=i(93),o=i(18),n=i(64),s=i(314),a=i(312),c=i(156),l=i(309),u=i(327);o(o.S+o.F*!i(316)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,o,f,d=n(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,y=void 0!==m,x=0,v=u(d);if(y&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==v||p==Array&&a(v))for(t=c(d.length),i=new p(t);t>x;x++)l(i,x,y?m(d[x],x):d[x]);else for(f=v.call(d),i=new p;!(o=f.next()).done;x++)l(i,x,y?s(f,m,[o.value,x],!0):o.value);return i.length=x,i}})},382:function(e,t,i){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=i(70),n=i(173),s=r(n),a={register:(0,o.createAction)(s.RESGISTER_EVENT,function(e,t,i){return{type:e,fn:t,data:i}}),execute:(0,o.createAction)(s.EXECUTE)};t.default=a},392:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(53),n=r(o),s=i(22),a=r(s),c=i(23),l=r(c),u=i(55),f=r(u),d=i(54),p=r(d),h=i(4),m=r(h),y=i(178),x=r(y);i(183);var v=i(394),b=r(v),_=function(e){function t(e){(0,a.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return i.state={gameProgress:100,gameSign:!0,game:null},i.gameStart=i.gameStart.bind(i),i.clickFn=i.clickFn.bind(i),i}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.gameStart()}},{key:"gameStart",value:function(){this.setState({gameSign:!0,game:new b.default(this.refs.factory)})}},{key:"clickFn",value:function(){this.state.game.start()}},{key:"render",value:function(){var e=(0,x.default)("factory",{show:this.state.gameSign}),t=(0,x.default)("game-prev-group",{hide:this.state.gameSign});return m.default.createElement("div",{ref:"view",className:"factory-view"},m.default.createElement("div",{className:t},m.default.createElement("h1",{className:"game-title"},"Welcome to Code Factory!"),m.default.createElement("button",{className:"game-btn",onClick:this.gameStart},"Start")),m.default.createElement("div",{ref:"factory",className:e}),m.default.createElement("button",{className:"btn",onClick:this.clickFn},"start"))}}]),t}(h.Component);t.default=_,_.propTypes={}},393:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(174),n=r(o),s=i(175),a=r(s),c=i(68),l=r(c),u=i(22),f=r(u),d=i(23),p=r(d),h={},m=function(){function e(t){(0,f.default)(this,e),(0,l.default)(this,h,t),this.init()}return(0,p.default)(e,[{key:"init",value:function(){this.items=[],this.active=null,this.createDetector(),this.initIems(),this.render()}},{key:"createDetector",value:function(){this.elem=document.createElement("DIV"),this.elem.className="factory-detector",this.input_elem=this.createGroup("INPUT"),this.output_elem=this.createGroup("OUTPUT"),this.expect_elem=this.createGroup("EXPECT"),this.wrap.appendChild(this.elem)}},{key:"createGroup",value:function(e){var t=document.createElement("DIV");return t.className="factory-group",t.innerHTML='<div class="group-title">'+e+"</div>",this.elem.appendChild(t),t}},{key:"createItem",value:function(e,t){var i=document.createElement("DIV");return i.textContent=e?(0,a.default)(e):"",i.setAttribute("data-index",t),i}},{key:"initIems",value:function(){this.items=(0,n.default)(this.data,function(e,t){var i=document.createElement("DIV");return(0,l.default)({index:t,el:i},e)})}},{key:"render",value:function(){var e=this;(0,n.default)(this.items,function(t,i){e.input_elem.appendChild(e.createItem(t.input,i)),e.output_elem.appendChild(e.createItem(t.output,i)),e.expect_elem.appendChild(e.createItem(t.expectant_output,i))})}},{key:"setActive",value:function(e){this.active&&this.active.classList.remove("active"),this.active=this.input_elem.querySelector('[data-index="'+e+'"]'),this.active&&this.active.classList.add("active")}}]),e}();t.default=m},394:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(174),n=r(o),s=i(68),a=r(s),c=i(22),l=r(c),u=i(23),f=r(u),d=i(393),p=r(d),h=i(395),m=r(h),y=i(396),x=r(y),v={size:null,missions:x.default,mission:"mission1",data_count:20,processor_count:9},b=function(){function e(t,i){(0,l.default)(this,e),(0,a.default)(this,v,i),this.elem=t,this.init()}return(0,f.default)(e,[{key:"init",value:function(){(0,a.default)(this,this.missions[this.mission]()),this.elem.innerHTML="",this.data=[],this.processors=[],this.active=0,this.initSize(),this.initMission(),this.createContaner(),this.loadProcessor(),this.createDetector()}},{key:"initSize",value:function(){this.size?(this.width=this.size[0],this.height=this.size[1],this.elem.style.cssText="\n\t\t\t\twidth: "+this.width+"px;\n\t\t\t\theight: "+this.height+"px;\n\t\t\t"):(this.width=this.elem.offsetWidth,this.height=this.elem.offsetHeight)}},{key:"createDetector",value:function(){this.detector=new p.default({wrap:this.elem,data:this.data})}},{key:"createContaner",value:function(){this.container=document.createElement("DIV"),this.container.className="factory-container",this.elem.appendChild(this.container)}},{key:"initMission",value:function(){for(var e=0;e<this.data_count;e++){var t=this.missionCreater();this.data.push({input:t.input,output:null,expectant_output:t.output,result:"pending"})}}},{key:"loadProcessor",value:function(){for(var e=this,t=0;t<this.processor_count;t++)this.processors.push(new m.default({status:this.err.indexOf(t)>-1?"error":"idle",wrap:this.container,index:t}));(0,n.default)(this.processors,function(t,i){var r=i-1;t.leftProcessor=e.processors[r]||null;var o=i+1;t.rightProcessor=e.processors[o]||null;var n=i-3;t.topProcessor=e.processors[n]||null;var s=i+3;t.bottomProcessor=e.processors[s]||null})}},{key:"start",value:function(){this.next()}},{key:"next",value:function(){this.active<this.data.length&&(this.detector.setActive(this.active),this.processors[this.entry].setNext(this.data[this.active].input),this.active++),(0,n.default)(this.processors,function(e){e.resetACC()}),(0,n.default)(this.processors,function(e){e.next()})}}]),e}();t.default=b},395:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=__webpack_require__(175),_stringify2=_interopRequireDefault(_stringify),_assign=__webpack_require__(68),_assign2=_interopRequireDefault(_assign),_classCallCheck2=__webpack_require__(22),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(23),_createClass3=_interopRequireDefault(_createClass2),_default={width:150,height:150,_NEXT:0,_ACC:0,_context:{},cur_size:0,size:128,status:"idle"},Processor=function(){function Processor(e){(0,_classCallCheck3.default)(this,Processor),(0,_assign2.default)(this,_default,e),this.init()}return(0,_createClass3.default)(Processor,[{key:"bindEvent",value:function(){this.code.addEventListener("keyup",this.asyncSize),this.elem.addEventListener("click",this.closeError)}},{key:"unbindEvent",value:function(){this.code.removeEventListener("keyup",this.asyncSize),this.elem.removeEventListener("click",this.closeError)}},{key:"init",value:function(){this.createProcessor(),this.asyncSize=this.asyncSize.bind(this),this.closeError=this.closeError.bind(this),this.bindEvent()}},{key:"destory",value:function(){this.unbindEvent()}},{key:"createProcessor",value:function(){this.elem=document.createElement("DIV"),this.elem.className="factory-process","error"===this.status&&this.setError(),this.code=this.createCode(),this.displayArea=this.createDisplayArea(),this.wrap.appendChild(this.elem)}},{key:"setError",value:function(){this.elem.classList.add("factory-error"),this.elem.setAttribute("data-error","ERROR")}},{key:"setCodeError",value:function(e){this.elem.classList.add("factory-code-error"),this.elem.setAttribute("data-error",e)}},{key:"closeError",value:function(){this.elem.classList.contains("factory-code-error")&&this.elem.classList.remove("factory-code-error")}},{key:"createCode",value:function(){var e=document.createElement("DIV");e.className="code-group",e.innerHTML='<div class="code-index">Processor '+(this.index+1)+"</div>";var t=document.createElement("TEXTAREA");return t.className="code",t.setAttribute("spellcheck",!1),e.appendChild(t),this.elem.appendChild(e),t}},{key:"createDisplayArea",value:function(){var e=document.createElement("DIV");return e.className="display-area",this.displayNext=this.createItem("NEXT",this._NEXT,e),this.displayACC=this.createItem("ACC",this._ACC,e),this.displayStatus=this.createItem("STATUS",this.status,e),this.displaySize=this.createItem("BYTE",this.cur_size+"/"+this.size,e),this.elem.appendChild(e),e}},{key:"createItem",value:function(e,t,i){var r=document.createElement("DIV");r.className="display-item",r.innerHTML='<div class="item-title">'+e+"</div>";var o=document.createElement("DIV");return o.className="item-value",o.textContent=t,r.appendChild(o),i.appendChild(r),o}},{key:"asyncSize",value:function(e){this.cur_size=e.target.value.length,this.cur_size>0?(this.status="run",this.displayStatus.innerHTML=this.status):(this.status="idle",this.displayStatus.innerHTML=this.status),this.cur_size>this.size&&(this.cur_size=this.size,e.target.value=e.target.value.substr(0,this.size)),this.displaySize.innerHTML=this.cur_size+"/"+this.size}},{key:"setNext",value:function(e){"error"!==this.status&&(this._NEXT=e,this.displayNext.innerHTML=this._NEXT)}},{key:"next",value:function(){"run"===this.status&&this.executeCode()}},{key:"resetACC",value:function(){this._ACC=this._NEXT,this.displayACC.textContent=(0,_stringify2.default)(this._ACC),this.setNext(0)}},{key:"executeCode",value:function executeCode(){var _this=this,code=this.code.value,fn=function fn(_ref){var ACC=_ref.ACC,TOLEFT=_ref.TOLEFT,TORIGHT=_ref.TORIGHT,TOTOP=_ref.TOTOP,TOBOTTOM=_ref.TOBOTTOM,ERROR=_ref.ERROR;try{eval(code)}catch(e){ERROR(e)}};fn.call(this._context,{ACC:this._ACC,TOLEFT:function(e){return _this.leftProcessor&&_this.leftProcessor.setNext(e)},TORIGHT:function(e){return _this.rightProcessor&&_this.rightProcessor.setNext(e)},TOTOP:function(e){return _this.topProcessor&&_this.topProcessor.setNext(e)},TOBOTTOM:function(e){return _this.bottomProcessor&&_this.bottomProcessor.setNext(e)},ERROR:function(e){return _this.setCodeError(e)}})}}]),Processor}();exports.default=Processor},396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mission1:function(){var e=function(){var e=function(){return~~(10*Math.random())},t=e();return{input:t,output:2*t}};return{err:[1,2,4,5],entry:0,output:8,missionCreater:e}}}},397:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(53),n=r(o),s=i(22),a=r(s),c=i(23),l=r(c),u=i(55),f=r(u),d=i(54),p=r(d),h=i(4),m=r(h);i(184);var y=i(110),x=i(52),v=i(382),b=r(v),_=function(e){function t(e){return(0,a.default)(this,t),(0,f.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return m.default.createElement("div",{ref:"view",className:"home-view"},m.default.createElement("section",{className:"info"},m.default.createElement("h1",null,"NightCat"),m.default.createElement("small",null,"- Welcome to NightCat game city -")))}}]),t}(h.Component),g=function(e){return{store:e}},k=function(e){return{actions:(0,x.bindActionCreators)(b.default,e)}};t.default=(0,y.connect)(g,k)(_),_.propTypes={actions:h.PropTypes.any}},406:function(e,t,i){function r(e){return i(o(e))}function o(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./factory/index.jsx":392,"./home/index.jsx":397};r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=406}});